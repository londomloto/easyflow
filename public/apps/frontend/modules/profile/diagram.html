
<div class="row">
    <div class="col-sm-12">
        <h3>Diagram Saya</h3>
        <p>Berikut ini adalah daftar diagram yang Anda buat sendiri</p>
    </div>
</div>

<div class="row m-t">
    <div class="col-md-7 col-sm-12">
        <div class="hidden-xs">
            <a data-ui-sref="editor" class="btn btn-raised btn-default btn-lg m-a-0"><i class="ion-plus"></i> Tambah diagram</a>
            <a data-ng-click="diagramStore.load()" href="javascript:;" class="btn btn-lg btn-default m-a-0 btn-link">Refresh diagram</a>    
        </div>
    </div>
    <div class="col-md-5 col-sm-12">
        <div class="form-search navbar-form"> 
            <div class="form-group">
                <input class="form-control" data-ng-model="search" data-ng-model-options="{ debounce: 300 }" type="text" placeholder="Pencarian diagram...">
                <i class="ion-android-search"></i>
            </div>
        </div>
    </div>
</div>

<hr>

<div class="row" data-ng-hide="diagrams.length">
    <div class="col-sm-12">
        <p>
            Tidak ada diagram yang ditemukan.
        </p>
    </div>
</div>

<div class="row m-b" data-ng-show="diagrams.length">
    <div class="col-sm-12  text-center">
        <div data-ui-pagination data-template="pagination.html" data-store="diagramStore" data-display="10"></div>
    </div>
</div>

<div data-ui-lightbox=".lightbox-item" data-trigger="diagrams" class="row">

    <div data-ng-repeat="item in diagrams track by item.id" data-repeat-done="triggerLightbox()">
        <div data-ng-if="$index % 2 == 0" class="clearfix"></div>
        <div class="col-sm-6">
            <div class="thumbnail">
                <div class="cover">
                    <img  alt="." data-ng-src="{{ item.cover | thumbnail:'/diagram/':400:200 }}" style="width: 100%;">
                    <a class="zoom lightbox-item" href="{{ item.cover_url }}">
                        <img title="{{ item.name }}" class="hidden">
                        <span><i class="ion-android-search"></i></span>
                    </a>    
                </div>
                <div style="float: right; margin-right: 10px; margin-top: -30px;">
                    <a data-ui-sref="profile.diagram.edit({id: item.id})" title="Bookmark" class="btn btn-default btn-fab">
                        <i class="ion-edit fab-icon text-primary"></i>
                    </a>
                    <a href="" class="btn btn-default btn-fab">
                        <i class="ion-android-delete fab-icon text-danger"></i>
                    </a>
                </div>
                <div class="caption">
                    <h4>{{ item.name }}</h4>
                    <div class="_300 text-muted">
                        <span class="m-r">{{ item.created_date | dateformat:'dd MMM yyyy' }}</span>
                        <span class="m-r"><i class="ion-heart text-danger"></i> 200</span>
                        <span class="m-r"><i class="ion-person text-primary"></i> 200</span>
                    </div>
                    <p class="text-sm m-t">{{ item.short_description }}</p>
                </div>
            </div>
            
        </div>
    </div>    

</div>

<div class="row m-t" data-ng-show="diagrams.length">
    <div class="col-sm-12  text-center">
        <div data-ui-pagination data-template="pagination.html" data-store="diagramStore" data-display="10"></div>
    </div>
</div>

<div data-ui-modal="diagram-setting" class="modal fade" data-backdrop="static" data-keyboard="false" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4>Konfigurasi</h4>
            </div>
            <div class="modal-body">
                <form name="form1" novalidate>
                    <div class="form-group">
                        <label>Nama diagram</label>
                        <input ng-model="selected.name" type="text" class="form-control">
                    </div>
                    <div class="form-group">
                        <div class="checkbox">
                            <label><input data-ng-model="selected.published" type="checkbox">&nbsp;&nbsp;Publikasikan diagram ini</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Keterangan singkat</label>
                        <input ng-model="selected.description" type="text" class="form-control">
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-6">
                            <label>Dibuat tanggal</label>
                            <p class="form-control">{{ selected.created_date | dateformat:'dd MMM yyyy, HH:mm' }}</p>
                        </div>
                        <div class="form-group col-sm-6">
                            <label>Terakhir disunting</label>
                            <p class="form-control">{{ selected.updated_date | dateformat:'dd MMM yyyy, HH:mm' }}</p>
                        </div>    
                    </div>
                    
                    <div class="form-group">
                        <label>Gambar sampul</label>
                        <input data-ui-file="coverfile" type="file">
                        <input readonly="" ng-model="covername" class="form-control" placeholder="" type="text">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button ng-click="saveSetting()" type="submit" class="btn btn-primary btn-submit">Simpan Perubahan</button>
                <button ng-click="hideSetting()" class="btn btn-default btn-close">Tutup</button>
            </div>
        </div>
    </div>
</div>